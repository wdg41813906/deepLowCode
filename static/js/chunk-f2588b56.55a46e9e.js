(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2588b56"],{"012e":function(t,e,i){"use strict";i("7b8b")},"0d85":function(t,e,i){},"20f5":function(t,e,i){t.exports=i.p+"img/none.d30ea1a5.png"},"74a6":function(t,e,i){},"7b8b":function(t,e,i){},"91d3":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"depart_alert"},[i("el-dialog",{staticClass:"depart_alert",attrs:{title:t.title,visible:t.my_is_add,"close-on-click-modal":!1,"custom-class":"depart_aldert_dialog",width:"600px",height:"700px","append-to-body":!0},on:{"update:visible":function(e){t.my_is_add=e},close:t.close}},[i("div",{staticClass:"member_container"},[i("div",{staticClass:"left member_colLeft"},[i("ElementTree",{attrs:{getdata:t.alldepart,departlist:t.my_select_id_list,is_colse:t.is_colse},on:{getTreelist:t.getTreelist}})],1),i("div",{staticClass:"left member_colRight"},[i("ul",t._l(t.my_selectlist,(function(e,s){return i("li",{key:s,staticClass:"step_right_li"},[i("span",{},[t._v(" "+t._s(e.Department)+" ")]),i("i",{staticClass:"el-icon-close del_select",on:{click:function(e){return t.delClick(s)}}}),i("div",{staticClass:"clearfix"})])})),0)]),i("div",{staticClass:"clearfix"}),i("div",{staticClass:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.close()}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.departSub()}}},[t._v("确定")])],1)])])],1)},a=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"element_tree"},[s("div",{staticClass:"member_coolLeft_top element_left"},[s("el-input",{staticClass:"search_tree",attrs:{placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),s("el-tree",{ref:"tree",attrs:{data:t.datalist,"show-checkbox":"","node-key":"depart_id",props:t.defaultProps,"filter-node-method":t.filterNode,"default-expanded-keys":["1"],"default-checked-keys":t.departlist,"check-strictly":!0},on:{"check-change":t.handleCheckChange},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node;return s("span",{staticClass:"custom-tree-node"},[s("span",[1==a.data.IsDepart||"true"==a.data.IsDepart?s("img",{attrs:{src:i("b945"),alt:""}}):s("img",{attrs:{src:i("059b"),alt:""}})]),t._v(" "+t._s(a.label)+" ")])}}])},[t._v(" > ")])],1)},r=[],n=(i("99af"),i("4de4"),i("c975"),i("a434"),i("a9e3"),i("b64b"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("5a6e"),{name:"element_tree",props:{getdata:Array,departlist:Array,key:Number,is_colse:Boolean},data:function(){return{datalist:[],defaultProps:{id:"id",label:"Department",children:"Children",parent_id:"ParentId",depart_id:"depart_id",IsDepart:"IsDepart",disabled:"IsDepart"},filterText:"",selectlist:[],list_select:[]}},methods:{handleCheckChange:function(t,e,i){if(this.getCheckedNodes(),e){var s=[t.depart_id];this.$refs.tree.setCheckedKeys(s),this.getCheckedNodes()}else this.getCheckedNodes()},getCheckedNodes:function(){var t=this.$refs.tree.getCheckedNodes(),e=[],i=[],s=[];for(var a in t)-1==s.indexOf(parseInt(t[a].ParentId))&&(1==t[a].IsDepart?e.push(t[a]):i.push(t[a])),s.push(parseInt(t[a].DepartId));this.unique(t);this.$emit("getTreelist",{depart:t,label:i})},unique:function(t){for(var e=0;e<t.length;e++)for(var i=e+1;i<t.length;i++)t[e].depart_id==t[i].depart_id&&(t.splice(i,1),i--);return t},getHalfCheckedNodes:function(){},getTreeData:function(){this.datalist=JSON.parse(JSON.stringify(this.getdata))},filterNode:function(t,e){return!t||(-1!==e.Department.indexOf(t)||-1!==e.depart_id.indexOf(t))},searchid:function(){var t=this,e={corpid:this.$store.state.corpid,query_word:this.filterText},i=this,s=i.$createObj(e),a=s["keyvalue"],l=i.$apilist["searchcontact"]+"?signature="+a;i.$server.post(l,s["fd"]).then((function(e){var i=[],s=[];if(0!=Object.keys(e.query_result).length&&-1!=Object.keys(e.query_result).indexOf("party"))for(var a in e.query_result.party.department_id)i.push({id:e.query_result.party.department_id[a].toString(),depart_id:e.query_result.party.department_id[a].toString(),IsDepart:!0});if(0!=Object.keys(e.query_result).length&&-1!=Object.keys(e.query_result).indexOf("user"))for(var l in e.query_result.user.userid)s.push({id:e.query_result.user.userid[l],IsDepart:!1,depart_id:e.query_result.usermap[e.query_result.user.userid[l]][0]+"-"+e.query_result.user.userid[l]});t.datalist=s.concat(i);for(var r=JSON.stringify(t.list_select),n=0;n<i.length;n++)if(r.indexOf(t.datalist[n].toString())>-1)for(var o=0;o<t.list_select.length;o++)if(t.datalist[n].depart_id==t.list_select[o].depart_id){t.$delete(t.list_select,o);break}})).catch((function(t){}))}},mounted:function(){for(var t in this.datalist=JSON.parse(JSON.stringify(this.getdata)),this.list_select=[],this.departlist)this.list_select.push({depart_id:this.departlist[t].toString(),IsDepart:!(this.departlist[t].split("-").length>1)})},watch:{is_colse:function(t){for(var e in this.list_select=[],this.departlist)this.list_select.push({depart_id:this.departlist[e].toString(),IsDepart:!(this.departlist[e].split("-").length>1)})},getdata:function(){for(var t in this.getTreeData(),this.departlist)this.selectlist.push(this.departlist[t].depart_id);var e=this;setTimeout((function(){e.departlist.length>0&&this.$refs.tree.setCheckedKeys(e.departlist)}),500)},filterText:function(t){this.$refs.tree.filter(t)},departlist:function(t){if(this.$refs.tree.setCheckedKeys(this.departlist),""==this.filterText)for(var e in this.list_select=[],this.departlist)this.list_select.push({depart_id:this.departlist[e].toString(),IsDepart:!(this.departlist[e].split("-").length>1)})}}}),o=n,d=(i("abfe"),i("2877")),c=Object(d["a"])(o,l,r,!1,null,null,null),u=c.exports,_={name:"depart_alert",components:{ElementTree:u},props:{is_add:Boolean,departlist:Array,alldepart:Array,title:String},data:function(){return{my_is_add:!1,my_selectlist:[],my_select_id_list:[],is_colse:!1}},methods:{departSub:function(){if(0==this.my_selectlist.length&&"填报对象"==this.title)return this.$alert(this.title+"为空！","提示",{confirmButtonText:"确定"}),!1;this.$emit("departSub",this.my_selectlist),this.close()},delClick:function(t){this.is_colse=!this.is_colse,this.$delete(this.my_selectlist,t),this.$delete(this.my_select_id_list,t);var e=JSON.stringify(this.my_selectlist);this.my_selectlist=[];var i=this;setTimeout((function(){i.my_selectlist=JSON.parse(e)}),100)},close:function(){this.is_colse=!0,this.my_is_add=!1},getTreelist:function(t){for(var e in this.my_selectlist=t.depart,this.my_select_id_list=[],this.my_selectlist)this.my_select_id_list.push(this.my_selectlist[e].depart_id)},getalldepartmenttree:function(){var t=this,e=(this.$store.state.corpid,this),i=this;this.loading=!0;var s={corpid:this.$store.state.corpid,userid:this.$store.state.userid},a=i.$createObj(s),l=a["keyvalue"],r=i.$apilist["getalldepartment"]+"?signature="+l;this.$server.post(r,a["fd"]).then((function(i){if(e.loading=!1,e.alldepart=i.data,void 0!=t.departlist)for(var s in t.my_selectlist=JSON.parse(JSON.stringify(t.departlist)),t.my_select_id_list=[],t.my_selectlist)t.my_select_id_list.push(t.my_selectlist[s].depart_id)})).catch((function(t){}))}},mounted:function(){},watch:{is_add:function(t){if(t&&(this.is_colse=!1,this.my_is_add=t,void 0!=this.departlist))for(var e in this.my_selectlist=JSON.parse(JSON.stringify(this.departlist)),this.my_select_id_list=[],this.my_selectlist)this.my_select_id_list.push(this.my_selectlist[e].depart_id)},my_is_add:function(t){this.$emit("back",t)}}},f=_,p=(i("a5c0"),Object(d["a"])(f,s,a,!1,null,null,null));e["a"]=p.exports},"97dd":function(t,e,i){},a5c0:function(t,e,i){"use strict";i("97dd")},abfe:function(t,e,i){"use strict";i("0d85")},b4f9:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{staticClass:"detail_alert_dialog form_other_detail_el_dialog",attrs:{title:"详情",visible:t.my_is_add,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(e){t.my_is_add=e}}},[i("div",{staticClass:"form_other_detail"},[i("el-row",[i("el-col",{attrs:{span:24}},[t._v("表单名："+t._s(t.detail.FormName))]),i("el-col",{attrs:{span:12}},[t._v("创建人："+t._s(t.detail.CreateUserName))]),i("el-col",{attrs:{span:12}},[t._v("创建时间："+t._s(new Date(t.detail.CreateTime).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"").split(" ")[0]))])],1)],1),t.detail_arr.length>0?i("el-table",{attrs:{data:t.detail_arr,border:"","header-cell-style":{background:"#eef1f6",color:"#606266"}}},[i("el-table-column",{attrs:{prop:"name",width:"150",label:"字段"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!=e.row.str_list&&e.row.str_list.length>0?i("span",[t._v(" "+t._s(e.row.name)+" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.str_list.join(""),placement:"right"}},[i("i",{staticClass:"el-icon-warning-outline"})])],1):i("span",[t._v(" "+t._s(e.row.name))])]}}],null,!1,1451467323)}),i("el-table-column",{attrs:{prop:"value",label:"数值"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!==e.row.opt_label&&"image"!==e.row.opt_label&&"file"!==e.row.opt_label?i("p",[t._v(" "+t._s(e.row.opt_label.split("__")[1])+" ")]):"image"==e.row.opt_label?i("div",t._l(e.row.value,(function(t){return i("span",{key:t,staticClass:"margin_r_10 display_block cursor"},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.url,"preview-src-list":e.row.enable_greater}})],1)})),0):"file"==e.row.opt_label?i("div",t._l(e.row.value,(function(e){return i("div",{key:e},[i("p",[i("span",{staticClass:"upload_list_span cursor",on:{click:function(i){return t.goimg(e.url)}}},[t._v(" "+t._s(e.name)+" ")])])])})),0):i("p",[t._v(t._s(e.row.value))]),null!=e.row.assign_data&&e.row.assign_data.length>0?i("div",[i("el-table",{attrs:{data:e.row.assign_data,border:""}},[i("el-table-column",{attrs:{label:"被分配人",prop:"ToUserName"}}),i("el-table-column",{attrs:{label:"被分配值",prop:"ToValue"}})],1)],1):t._e()]}}],null,!1,3490755675)})],1):t._e(),i("el-form",{staticClass:"auditform",attrs:{"label-width":"150px"}},[null!=t.detail.AuditStates?i("el-form-item",{staticClass:"audit_item",attrs:{label:"审批流程：","label-width":"200px"}},[i("div",{staticClass:"audit_div"},[i("el-timeline",t._l(t.detail.AuditStates,(function(e,s){return i("el-timeline-item",{key:s,attrs:{color:0==e.node_state?"#0bbd87":"#D6D6D6"}},[i("div",[i("div",{staticClass:"left"},[i("p",{staticClass:"audit_title"},[t._v("审批人")]),i("p",{staticClass:"audit_num"},[t._v(" "+t._s(e.userids.length)+"人 "),i("span",[t._v(t._s(0==e.node_state?"(已审批)":"(待审批)"))])])]),i("div",{staticClass:"right"},t._l(e.user_info,(function(s,a){return i("span",{key:s},[t._v(" "+t._s(s.name)+" "),a<e.userids.length-1?i("span",[t._v("/")]):t._e()])})),0)])])})),1)],1)]):t._e()],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[0!=t.detail.State&&2!=t.detail.State?i("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(e){return t.callbackone(t.detail.Code)}}},[t._v(" 撤 回")]):t._e(),i("el-button",{attrs:{icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.delClick(t.detail.Code)}}},[t._v(" 删 除")]),i("el-button",{attrs:{icon:"el-icon-tickets",size:"small"},on:{click:function(e){return t.logClick(t.detail.Code)}}},[t._v(" 日 志")]),i("el-button",{attrs:{icon:"el-icon-edit",size:"small",type:"primary",disabled:0!=t.detail.State&&2!=t.detail.State&&6!=t.detail.State},on:{click:function(e){return t.ediotrFillClick(t.detail.Code)}}},[t._v(" 编 辑")])],1)],1),i("LogAlert",{attrs:{is_add:t.is_log,code:t.logcode},on:{back:t.logBack}}),i("FillEditorAlert",{attrs:{is_add:t.is_editor,form_data:t.form_data,detail:t.detail,main_code:t.main_code,task_code:t.task_code},on:{back:t.fillEBack,subback:t.editorSubBack}})],1)},a=[],l=i("ade3"),r=i("d394"),n=i("9583"),o={name:"detail_alert_dialog",props:{is_add:Boolean,detail:Object,form_data:Object},components:{LogAlert:n["a"],FillEditorAlert:r["a"]},data:function(){var t;return t={imgurl:this.$store.state.imgurl,tableProps:{border:!0,"header-cell-style":{background:"#eef1f6",color:"#606266"}},coprid:this.$store.state.corpid,my_is_add:!1,is_editor:!1,is_log:!1,logcode:""},Object(l["a"])(t,"is_editor",!1),Object(l["a"])(t,"main_code",""),Object(l["a"])(t,"detail_arr",[]),t},methods:{goimg:function(t){return window.open(t),!1},ediotrFillClick:function(t){this.main_code=t,this.is_editor=!this.is_editor},fillEBack:function(t){this.is_editor=t},editorSubBack:function(){this.$emit("otherback"),this.my_is_add=!this.my_is_add},logClick:function(t){this.logcode=t,this.is_log=!this.is_log},logBack:function(t){this.is_log=t},editorClick:function(){this.is_editor=!this.is_editor},editorBack:function(t){this.is_editor=t},delClick:function(t){var e=this;this.$confirm("删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=e,s={corpid:e.$store.state.corpid,userid:e.$store.state.userid,code:t},a=i.$createObj(s),l=a["keyvalue"],r=i.$apilist["delone_main"]+"?signature="+l;i.$server.post(r,a["fd"]).then((function(){e.$message({type:"success",message:"删除成功!"}),e.$emit("otherback"),e.my_is_add=!e.my_is_add})).catch((function(t){}))})).catch((function(){}))},callbackone:function(t){var e=this;this.$confirm("撤回该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=e,s={corpid:e.$store.state.corpid,userid:e.$store.state.userid,main_code:t},a=i.$createObj(s),l=a["keyvalue"],r=i.$apilist["callbackone"]+"?signature="+l;i.$server.post(r,a["fd"]).then((function(){e.$message({type:"success",message:"撤回成功!"}),e.$emit("otherback"),e.my_is_add=!e.my_is_add})).catch((function(t){}))})).catch((function(){}))},getimgurl:function(t,e){for(var i in e.enable_greater=[],e.value)e.enable_greater.push(e.value[i].url)}},watch:{is_add:function(t){if(this.my_is_add=t,this.detail_arr=[],t)for(var e in this.detail.FormFieldInfos){if("image"==this.detail.FormFieldInfos[e].opt_label)for(var i in this.enable_assign=[],this.detail.FormFieldInfos[e].enable_greater=[],this.detail.FormFieldInfos[e].value)this.getimgurl(this.detail.FormFieldInfos[e].value[i],this.detail.FormFieldInfos[e]);this.detail_arr.push({name:this.detail.FormFieldInfos[e].field_label,value:this.detail.FormFieldInfos[e].value,assign_data:this.detail.FormFieldInfos[e].assign_data,opt_label:this.detail.FormFieldInfos[e].opt_label,enable_greater:this.detail.FormFieldInfos[e].enable_greater,str_list:this.detail.FormFieldInfos[e].str_list})}},my_is_add:function(t){this.$emit("back",t)}}},d=o,c=(i("b6fe"),i("2877")),u=Object(c["a"])(d,s,a,!1,null,null,null);e["a"]=u.exports},b6fe:function(t,e,i){"use strict";i("74a6")},f2cd:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"assign_detail"},[s("el-dialog",{attrs:{title:"分配",visible:t.my_is_add,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(e){t.my_is_add=e}}},[t.is_show?s("div",[s("el-form",{nativeOn:{submit:function(t){t.preventDefault()}}},[s("el-form-item",{attrs:{label:"分配人员"}},[s("div",{staticClass:"el-input__inner",on:{click:function(e){return t.departClick()}}},[0==t.select_depart.length?s("span",[t._v(" 点击选择 ")]):s("span",[s("GetTreeNameM",{attrs:{openid:t.select_depart[0].id}}),t._v("/"+t._s(t.select_depart[0].id)+" ")],1)])]),t._l(t.leftlist,(function(e){return s("el-form-item",{key:e,attrs:{label:e.field_label}},[s("p",{staticClass:"right_title"},[t._v(" （原始值："+t._s(e.orgin)+"，"),s("span",{staticStyle:{color:"#f56c6c"}},[t._v("剩余值："+t._s(e.left))]),t._v("，"),s("span",{staticStyle:{color:"#67c23a"}},[t._v("已分配值："+t._s(e.used))]),t._v("） ")]),s("el-input",{attrs:{type:"number"},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}})],1)}))],2)],1):s("div",[0==t.assignlist.length?s("div",{staticClass:"text_center"},[s("img",{attrs:{src:i("20f5")}}),s("p",[t._v("暂无分配数据")])]):t._e(),t.assignlist.length>0?s("data-tables",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",attrs:{data:t.assignlist,"pagination-props":{pageSizes:[5,10,15]},"row-key":t.row_key,"expand-row-keys":t.expandRowKeys,"table-props":t.tableProps}},[s("el-table-column",{attrs:{label:"用户名/工号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" props.row.ToUserId /"+t._s(e.row.ToUserId)+" ")]}}],null,!1,3431400982)}),t._l(t.assignlist[0].ToValues,(function(e,i){return s("el-table-column",{key:e,attrs:{label:e.field_label},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.ToValues[i].value)+" ")]}}],null,!0)})})),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-link",{attrs:{underline:!1,type:"primary"},on:{click:function(i){return t.editorClick(e.row)}}},[s("span",[t._v("编辑")])]),s("el-link",{staticClass:"margin_l_5",attrs:{underline:!1,type:"primary"},on:{click:function(i){return t.delClick(e.row)}}},[t._v("删除")])]}}],null,!1,3969939139)})],2):t._e()],1),t.is_show?s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.is_show=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.assignSubClick()}}},[t._v("确 定")])],1):s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.assignClick()}}},[t._v("分配")])],1)]),s("DepartAlertMS",{attrs:{is_add:t.is_depart,departlist:t.select_depart},on:{back:t.departBackM,departSub:t.departSubM}})],1)},a=[],l=i("91d3"),r={name:"assign_detail",components:{DepartAlertMS:l["a"]},props:{is_add:Boolean,detail:Object,task_code:String},data:function(){return{tableProps:{border:!0,"header-cell-style":{background:"#eef1f6",color:"#606266"}},my_is_add:!1,leftlist:[],assignlist:[],is_show:!1,is_depart:!1,select_depart:[],departlist_m:[],departlist_select:[],is_editor:!1,editor_detail_as_id:"",num:0,titles:[{prop:"name",label:"名字"},{prop:"orgin",label:"原始值"},{prop:"used",label:"已分配值"},{prop:"left",label:"剩余值"}]}},methods:{assignClick:function(){for(var t in this.select_depart=[],this.leftlist)this.leftlist[t].value="";this.is_editor=!1,this.is_show=!0},delClick:function(t){var e=this;this.$confirm("删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=e,s={corpid:e.$store.state.corpid,userid:e.$store.state.userid,data_code:e.detail.Code,as_id:t.Id},a=i.$createObj(s),l=a["keyvalue"],r=i.$apilist["deloneassigndata"]+"?signature="+l;i.$server.post(r,a["fd"]).then((function(){e.allassigndata(),e.leftvalue(),e.$message({type:"success",message:"删除成功!"})})).catch((function(t){}))}))},editorClick:function(t){for(var e in this.is_editor=!0,this.is_show=!0,this.departlist_m=[{id:t.ToUserId,depart_id:t.ToDepartId}],this.select_depart=this.departlist_m,this.editor_detail_as_id=t.Id,t.ToValues)for(var i in this.leftlist)this.leftlist[i].field_code==t.ToValues[e].field_code&&(this.leftlist[i].value=t.ToValues[i].value)},assignSubClick:function(){var t=this,e=this;if(0==this.select_depart.length)return this.$alert("请选择人员！","提示",{confirmButtonText:"确定"}),!1;for(var i in this.leftlist){if(!/(^[\-0-9][0-9]*(.[0-9]+)?)$/.test(this.leftlist[i].value))return this.$alert(this.leftlist[i].field_label+"请填写数字！","提示",{confirmButtonText:"确定"}),!1;this.leftlist[i].value=parseFloat(this.leftlist[i].value)}var s={corpid:this.$store.state.corpid,userid:this.$store.state.userid,to_userid:this.select_depart[0].id,to_departid:this.select_depart[0].depart_id,to_value:JSON.stringify(this.leftlist),data_code:this.detail.Code};this.is_editor&&(s["as_id"]=this.editor_detail_as_id);var a=e.$createObj(s),l=a["keyvalue"],r=e.$apilist["addoneassigndata"]+"?signature="+l;this.is_editor&&(r=e.$apilist["editoneassigndata"]+"?signature="+l),e.$server.post(r,a["fd"]).then((function(e){t.is_show=!1,t.allassigndata(),t.leftvalue()})).catch((function(t){}))},departClick:function(){this.is_depart=!this.is_depart},departBackM:function(t){this.is_depart=t},departSubM:function(t){this.select_depart=t.list},leftvalue:function(){var t=this,e=this,i={corpid:this.$store.state.corpid,userid:this.$store.state.userid,data_code:this.detail.Code},s=e.$createObj(i),a=s["keyvalue"],l=e.$apilist["leftvalue"]+"?signature="+a;e.$server.post(l,s["fd"]).then((function(e){var i=[];for(var s in e.data.left)i.push({value:"",join_gather:e.data.left[s].join_gather,field_code:e.data.left[s].field_code,field_label:e.data.left[s].field_label,left:e.data.left[s].value,orgin:e.data.orgin[s].value,used:e.data.used[s].value});t.leftlist=i})).catch((function(t){}))},allassigndata:function(){var t=this,e=this,i={corpid:this.$store.state.corpid,userid:this.$store.state.userid,data_code:this.detail.Code},s=e.$createObj(i),a=s["keyvalue"],l=e.$apilist["allassigndata"]+"?signature="+a;e.$server.post(l,s["fd"]).then((function(e){t.assignlist=e.data,0==t.assignlist.length?t.is_show=!0:t.is_show=!1})).catch((function(t){}))}},watch:{is_add:function(t){this.my_is_add=t,t&&(this.leftvalue(),this.allassigndata())},my_is_add:function(t){this.$emit("back",t)}}},n=r,o=(i("012e"),i("2877")),d=Object(o["a"])(n,s,a,!1,null,null,null);e["a"]=d.exports}}]);