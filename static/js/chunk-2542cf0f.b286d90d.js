(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2542cf0f"],{"0e45":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gatherlist"},[s("div",{staticClass:"top_form"},[s("span",{staticClass:"name_span",class:{active_gatherlist:t.is_tab},on:{click:function(e){return t.tabClick(1)}}},[t._v(t._s(t.title))]),s("span",{staticClass:"line_span"},[t._v("|")]),s("span",{staticClass:"name_span",class:{active_gatherlist:!t.is_tab},attrs:{span:""},on:{click:function(e){return t.tabClick(2)}}},[t._v("数据详情")]),s("span",{staticClass:"right"},[s("el-input",{staticClass:"width_150",attrs:{placeholder:"搜索用户名",size:"small"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}}),s("el-button",{staticClass:"margin_l_15",attrs:{size:"small",icon:"el-icon-download"},on:{click:function(e){return t.exportExcel()}}},[t._v("导出")]),s("router-link",{staticClass:"margin_l_5",attrs:{to:{name:"taskAudit",query:{k:Date.now()}}}},[s("el-button",{staticClass:"margin_l_5",attrs:{size:"small",icon:"iconfont icon-cancel"},on:{click:function(e){return t.close()}}},[t._v("返回")])],1)],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.is_tab,expression:"is_tab"}]},[s("data-tables",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"refTable",attrs:{filters:t.filters,data:t.gather_list,"pagination-props":{pageSizes:[10,15,30]},"table-props":t.tableProps},on:{"selection-change":t.handleSelectionChange,"row-click":t.clickTable}},[s("el-table-column",{attrs:{label:"用户名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.user_name)+" ")]}}])}),t._l(t.rule_list_key,(function(e){return s("el-table-column",{key:e,attrs:{label:t.rule_list[e].name}},t._l(t.rule_list[e].data,(function(e){return s("el-table-column",{key:e,attrs:{prop:"ValidVote",label:e.filed_name},scopedSlots:t._u([{key:"default",fn:function(i){return[void 0!=i.row[e.filed_code]?s("span",[t._v(" "+t._s(i.row[e.filed_code])+" ")]):s("span",[t._v("-")])]}}],null,!0)})})),1)}))],2)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.is_tab,expression:"!is_tab"}],staticClass:"type_div"},[s("ul",{staticClass:"eform-list clearfix"},t._l(t.formlist,(function(e){return s("li",{key:e},[s("div",{staticClass:"list_box"},[s("div",{staticClass:"content_list_item"},[s("p",{staticClass:"p_over",attrs:{slot:"reference"},slot:"reference"},[t._v(" "+t._s(e.Title)+" ")]),s("div",{staticClass:"clearfix"})]),s("div",[s("div",{staticClass:"left other_left"},[s("p",[t._v("已填报数："+t._s(e.AllCount))]),s("p",[t._v("已通过数："+t._s(e.PassCount))])]),s("ul",{staticClass:"operation flex right",staticStyle:{display:"block"}},[s("li",{on:{click:function(s){return t.goClick(e.Code)}}},[s("span",[t._v(" 进入 ")])])])])])])})),0),s("div",{staticClass:"clearfix"})])])},a=[],l=(s("b0c0"),s("b64b"),s("5a6e")),r={name:"gatherlist",data:function(){return{formlist:[],is_tab:!0,gather_list:[],rule_list:[],rule_list_key:[],title:"",code:"",tableProps:{border:!0,"header-cell-style":{background:"#eef1f6",color:"#606266"}},filters:[{prop:"user_name",value:""}]}},methods:{goClick:function(t){this.$router.push({name:"filllistAudit",query:{id:Object(l["b"])(t),taskcode:this.$route.query.id,name:this.title}})},tabClick:function(t){this.is_tab=1==t},getalltemplateform:function(){var t=this,e=this,s=this.$route.query.id,i={corpid:this.$store.state.corpid,userid:this.$store.state.userid,task_code:Object(l["a"])(s)},a=e.$createObj(i),r=a["keyvalue"],n=e.$apilist["getaudformlist"]+"?signature="+r;e.$server.post(n,a["fd"]).then((function(e){t.formlist=e.data})).catch((function(t){}))},getgather:function(){var t=this,e=this.$route.query.id;this.code=Object(l["a"])(e),this.title=this.$route.query.name,this.taskid=e;var s=this,i={corpid:this.$store.state.corpid,userid:this.$store.state.userid,task_code:Object(l["a"])(e)},a=s.$createObj(i),r=a["keyvalue"],n=s.$apilist["gatherlistaudit"]+"?signature="+r;this.gather_list=[],this.rule_list=[],this.rule_list_key=[],s.$server.post(n,a["fd"]).then((function(e){t.gather_list=e.data.gather,t.rule_list=e.data.form,t.rule_list_key=Object.keys(e.data.form)})).catch((function(t){}))},exportExcel:function(){var t=this,e=this,s={corpid:this.$store.state.corpid,userid:this.$store.state.userid,task_code:this.code},i=e.$createObj(s),a=i["keyvalue"],l=e.$apilist["exportaudit"]+"?signature="+a;this.gather_list=[],this.rule_list=[],this.rule_list_key=[],e.$server.post(l,i["fd"]).then((function(e){window.open(t.$store.state.imgurl+"/"+e.data.path),t.getgather()})).catch((function(t){}))}},mounted:function(){this.getgather(),this.getalltemplateform()}},n=r,o=(s("9096"),s("2877")),c=Object(o["a"])(n,i,a,!1,null,null,null);e["default"]=c.exports},"276a":function(t,e,s){},9096:function(t,e,s){"use strict";s("276a")}}]);