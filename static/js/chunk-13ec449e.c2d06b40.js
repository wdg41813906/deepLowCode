(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13ec449e"],{"0d18":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"alldatalist_a"},[i("div",{staticClass:"top_form"},[i("span",{staticClass:"name_span",on:{click:function(e){return t.tabClick(1)}}},[t._v(t._s(t.title))]),i("span",{staticClass:"right"},[i("el-button",{staticClass:"margin_l_5",attrs:{size:"small",icon:"iconfont icon-cancel"},on:{click:function(e){return t.goback()}}},[t._v("返回")])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.is_tab,expression:"is_tab"}]},[i("div",t._l(t.sortFun(t.formlist),(function(e){return i("div",{key:e,staticClass:"type_div"},[i("p",{staticClass:"title_form"},[i("span",{on:{click:function(i){return t.typeEditorClick(e,t.formlist[e][0].TypeContent)}}},[t._v(" "+t._s(t.formlist[e][0].TypeContent)+" ")])]),i("div",{staticClass:"clearfix"}),1==t.isStr(t.formlist[e])?i("ul",{staticClass:"eform-list clearfix"},t._l(t.formlist[e],(function(e){return i("li",{key:e,on:{mouseover:function(e){return t.mouseOver(e)},mouseleave:function(e){return t.mouseLeave(e)}}},[i("div",{staticClass:"list_box"},[i("div",{staticClass:"content_list_item"},[i("p",{staticClass:"p_over left width_150",attrs:{slot:"reference"},slot:"reference"},[t._v(" "+t._s(e.Title)+" ")]),e.DenyCount>0?i("p",{staticClass:"right other_count"},[t._v(" "+t._s(e.DenyCount)+" ")]):t._e(),i("div",{staticClass:"clearfix"})]),i("div",[i("ul",{staticClass:"operation flex right"},[i("li",{on:{click:function(i){return t.goClick(e)}}},[i("span",[t._v("进入")])])])])])])})),0):t._e(),i("div",{staticClass:"clearfix"})])})),0)])])},a=[],r=(i("99af"),i("b0c0"),i("b64b"),i("ade3")),n=i("5a6e"),o=i("988b"),c=i("7239"),l=i("56bf"),u=i("7f91"),d=i("bee8"),f={name:"gatherlist",components:{FillAlert:o["a"],FillEditorAlert:c["a"],DetailAlert:l["a"],LogAlert:u["a"],DepartAlertS:d["a"]},data:function(){var t;return t={is_add:!1,select_auditcode:"",select_depart:"",dialogTableVisible:!1,is_detail:!1,is_editor:!1,main_code:"",detail:{},formdetail:{}},Object(r["a"])(t,"is_add",!1),Object(r["a"])(t,"table_data",[]),Object(r["a"])(t,"task_code",""),Object(r["a"])(t,"main_data",{}),Object(r["a"])(t,"formlist",[]),Object(r["a"])(t,"is_tab",!0),Object(r["a"])(t,"gather_list",[]),Object(r["a"])(t,"rule_list",[]),Object(r["a"])(t,"rule_list_key",[]),Object(r["a"])(t,"title",""),Object(r["a"])(t,"code",""),Object(r["a"])(t,"dellist",[]),Object(r["a"])(t,"tableProps",{border:!0,"header-cell-style":{background:"#eef1f6",color:"#606266"}}),Object(r["a"])(t,"filters",[{prop:["CreateUserName","Department","CreateUserId","FormName"],value:""}]),Object(r["a"])(t,"auditlist",[]),Object(r["a"])(t,"auditkey",[]),Object(r["a"])(t,"is_depart",!1),Object(r["a"])(t,"form_code",""),t},methods:{batchdel:function(){var t=this;if(0==this.dellist.length)return this.$alert("请选择要删除的数据","提示",{confirmButtonText:"确定"}),!1;this.$confirm("此操作将永久删除数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=[];for(var i in t.dellist)e.push(t.dellist[i].Code);var s=t,a={corpid:t.$store.state.corpid,userid:t.$store.state.userid,main_codes:JSON.stringify(e)},r=s.$createObj(a),n=r["keyvalue"],o=s.$apilist["batchdel"]+"?signature="+n;s.$server.post(o,r["fd"]).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.dellist=[],t.getgather()})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}))},delClick:function(t){var e=this;this.$confirm("删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=e,s={corpid:e.$store.state.corpid,userid:e.$store.state.userid,code:t},a=i.$createObj(s),r=a["keyvalue"],n=i.$apilist["delone_main"]+"?signature="+r;i.$server.post(n,a["fd"]).then((function(){e.getgather(),e.$message({type:"success",message:"删除成功!"})})).catch((function(t){}))})).catch((function(){}))},ediotrFillClick:function(t){this.main_code=t.Code,this.detail=t,this.is_editor=!this.is_editor},fillEBack:function(t){this.is_editor=t},subFillEBack:function(){this.getgather()},detailClick:function(t){this.is_detail=!this.is_detail,this.detail=t},detailBack:function(t){this.is_detail=t},otherDetailBack:function(){this.getgather()},isStr:function(t){return"string"!=typeof t?1:234},sortFun:function(t){var e=[],i=[],s=Object.keys(t);for(var a in s)"string"==typeof t[s[a]]?i.push(s[a]):e.push(s[a]);return e.concat(i.reverse())},goback:function(){this.$router.push({name:"authorizeListTask",query:{k:Date.now()}})},goClick:function(t){this.$router.push({name:"formdataATask",params:{other:this.$route.params.other},query:{id:Object(n["b"])(t.Code),taskname:this.$route.query.name,taskcode:this.$route.query.id,name:t.Title}})},tabClick:function(t){this.is_tab=1==t},mouseOver:function(t){t.currentTarget.className="  active"},mouseLeave:function(t){t.currentTarget.className=""},getalltemplateform:function(){var t=this,e=this,i=this.$route.query.id,s={corpid:this.$store.state.corpid,userid:this.$store.state.userid,task_code:Object(n["a"])(i)},a=e.$createObj(s),r=a["keyvalue"],o=e.$apilist["allauthorizeformbytaskcode"]+"?signature="+r;e.$server.post(o,a["fd"]).then((function(e){t.formlist=e.data})).catch((function(t){}))},maincountinfo:function(){var t=this,e=this,i=this.$route.query.id,s={corpid:this.$store.state.corpid,userid:this.$store.state.userid,task_code:Object(n["a"])(i)},a=e.$createObj(s),r=a["keyvalue"],o=e.$apilist["maincountinfo"]+"?signature="+r;e.$server.post(o,a["fd"]).then((function(e){t.main_data=e.data})).catch((function(t){}))},getgather:function(){var t=this,e=this.$route.query.id;this.code=Object(n["a"])(e),this.title=this.$route.query.name,this.taskid=e,this.task_code=Object(n["a"])(e);var i=this,s={corpid:this.$store.state.corpid,task_code:Object(n["a"])(e)},a=i.$createObj(s),r=a["keyvalue"],o=i.$apilist["allmaindatabyformcodeanduserid"]+"?signature="+r;i.$server.post(o,a["fd"]).then((function(e){t.table_data=e.data,t.select_auditcode="",t.select_depart=""})).catch((function(t){}))},exportExcel:function(){var t=this,e=this,i={corpid:this.$store.state.corpid,userid:this.$store.state.userid,task_code:this.code},s=e.$createObj(i),a=s["keyvalue"],r=e.$apilist["export"]+"?signature="+a;this.gather_list=[],this.rule_list=[],this.rule_list_key=[],e.$server.post(r,s["fd"]).then((function(e){window.open(t.$store.state.imgurl+"/"+e.data.path),t.getgather()})).catch((function(t){}))}},mounted:function(){this.getgather(),this.getalltemplateform()}},h=f,p=(i("4239"),i("2877")),m=Object(p["a"])(h,s,a,!1,null,null,null);e["default"]=m.exports},4239:function(t,e,i){"use strict";i("926d")},"926d":function(t,e,i){}}]);