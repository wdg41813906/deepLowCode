(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-183de5d1"],{"01a4":function(e,t,i){"use strict";i("5712")},"0649":function(e,t,i){"use strict";i("73c3")},"317d":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"depart_alert"},[i("el-dialog",{staticClass:"depart_alert",attrs:{title:e.title,visible:e.my_is_add,"close-on-click-modal":!1,"custom-class":"depart_aldert_dialog",width:"600px",height:"700px","append-to-body":!0},on:{"update:visible":function(t){e.my_is_add=t},close:e.close}},[i("div",{staticClass:"member_container"},[i("div",{staticClass:"left member_colLeft"},[i("ElementTree",{attrs:{getdata:e.alldepart,departlist:e.my_select_id_list,is_colse:e.is_colse},on:{getTreelist:e.getTreelist}})],1),i("div",{staticClass:"left member_colRight"},[i("ul",e._l(e.my_selectlist,(function(t,s){return i("li",{key:s,staticClass:"step_right_li"},[i("span",{},[e._v(" "+e._s(t.Department)+" ")]),i("i",{staticClass:"el-icon-close del_select",on:{click:function(t){return e.delClick(s)}}}),i("div",{staticClass:"clearfix"})])})),0)]),i("div",{staticClass:"clearfix"}),i("div",{staticClass:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){return e.close()}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.departSub()}}},[e._v("确定")])],1)])])],1)},a=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"element_tree_address"},[s("div",{staticClass:"member_coolLeft_top element_left"},[s("el-input",{staticClass:"search_tree",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),s("el-tree",{ref:"tree",attrs:{data:e.datalist,"show-checkbox":"","node-key":"depart_id",props:e.defaultProps,"filter-node-method":e.filterNode,"default-expanded-keys":["1"],"default-checked-keys":e.departlist,"check-strictly":!0},on:{"check-change":e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node;return s("span",{staticClass:"custom-tree-node"},[s("span",[1==a.data.IsDepart||"true"==a.data.IsDepart?s("img",{attrs:{src:i("b945"),alt:""}}):s("img",{attrs:{src:i("059b"),alt:""}})]),e._v(" "+e._s(a.label)+" ")])}}])},[e._v(" > ")])],1)},l=[],n=(i("99af"),i("c975"),i("a434"),i("a9e3"),i("b64b"),i("d3b7"),i("ac1f"),i("25f0"),i("1276"),i("5a6e")),o={name:"element_tree",props:{getdata:Array,departlist:Array,key:Number,is_colse:Boolean},data:function(){return{datalist:[],defaultProps:{id:"id",label:"Department",children:"Children",parent_id:"ParentId",depart_id:"depart_id"},filterText:"",selectlist:[],list_select:[]}},methods:{handleCheckChange:function(e,t,i){if(this.getCheckedNodes(),t){var s=[e.id];this.$refs.tree.setCheckedKeys(s),this.getCheckedNodes()}else this.getCheckedNodes()},getCheckedNodes:function(){var e=this.$refs.tree.getCheckedNodes();""!=this.filterText&&(e=e.concat(this.list_select));var t=[],i=[],s=[];for(var a in e)-1==s.indexOf(parseInt(e[a].ParentId))&&(1==e[a].IsDepart?t.push(e[a]):i.push(e[a])),s.push(parseInt(e[a].DepartId));this.unique(e);this.$emit("getTreelist",{depart:e,label:i})},unique:function(e){for(var t=0;t<e.length;t++)for(var i=t+1;i<e.length;i++)e[t].depart_id==e[i].depart_id&&(e.splice(i,1),i--);return e},getHalfCheckedNodes:function(){},getTreeData:function(){this.datalist=JSON.parse(JSON.stringify(this.getdata))},filterNode:function(e,t){return!e||-1!==t.Department.indexOf(e)},searchid:function(){var e=this,t={corpid:this.$store.state.corpid,query_word:this.filterText},i=this,s=i.$createObj(t),a=s["keyvalue"],r=i.$apilist["searchcontact"]+"?signature="+a;i.$server.post(r,s["fd"]).then((function(t){var i=[],s=[];if(0!=Object.keys(t.query_result).length&&-1!=Object.keys(t.query_result).indexOf("party"))for(var a in t.query_result.party.department_id)i.push({id:t.query_result.party.department_id[a].toString(),depart_id:t.query_result.party.department_id[a].toString(),IsDepart:!0});if(0!=Object.keys(t.query_result).length&&-1!=Object.keys(t.query_result).indexOf("user"))for(var r in t.query_result.user.userid)s.push({id:t.query_result.user.userid[r],IsDepart:!1,depart_id:t.query_result.usermap[t.query_result.user.userid[r]][0]+"-"+t.query_result.user.userid[r]});e.datalist=s.concat(i);for(var l=JSON.stringify(e.list_select),n=0;n<i.length;n++)if(l.indexOf(e.datalist[n].toString())>-1)for(var o=0;o<e.list_select.length;o++)if(e.datalist[n].depart_id==e.list_select[o].depart_id){e.$delete(e.list_select,o);break}})).catch((function(e){}))}},mounted:function(){var e=this;for(var t in this.$watch("filterText",Object(n["d"])((function(t){""!=t?e.searchid():e.getTreeData()}),200)),this.datalist=JSON.parse(JSON.stringify(this.getdata)),this.list_select=[],this.departlist)this.list_select.push({depart_id:this.departlist[t].toString(),IsDepart:!0})},watch:{is_colse:function(e){for(var t in this.list_select=[],this.departlist)this.list_select.push({depart_id:this.departlist[t].toString(),IsDepart:!0})},getdata:function(){for(var e in this.getTreeData(),this.departlist)this.selectlist.push(this.departlist[e].depart_id);var t=this;setTimeout((function(){t.departlist.length>0&&this.$refs.tree.setCheckedKeys(t.departlist)}),500)},departlist:function(e){if(this.$refs.tree.setCheckedKeys(this.departlist),""==this.filterText)for(var t in this.list_select=[],this.departlist)this.list_select.push({depart_id:this.departlist[t].toString(),IsDepart:!(this.departlist[t].split("-").length>1)})}}},d=o,c=(i("e53e"),i("2877")),u=Object(c["a"])(d,r,l,!1,null,null,null),p=u.exports,h={name:"depart_alert",components:{ElementTree:p},props:{is_add:Boolean,departlist:Array,title:String},data:function(){return{alldepart:[],my_is_add:!1,my_selectlist:[],my_select_id_list:[],is_colse:!1}},methods:{departSub:function(){if(0==this.my_selectlist.length&&"填报对象"==this.title)return this.$alert(this.title+"为空！","提示",{confirmButtonText:"确定"}),!1;this.$emit("departSub",this.my_selectlist),this.close()},delClick:function(e){this.is_colse=!this.is_colse,this.$delete(this.my_selectlist,e),this.$delete(this.my_select_id_list,e);var t=JSON.stringify(this.my_selectlist);this.my_selectlist=[];var i=this;setTimeout((function(){i.my_selectlist=JSON.parse(t)}),100)},close:function(){this.is_colse=!0,this.my_is_add=!1},getTreelist:function(e){for(var t in this.my_selectlist=e.depart,this.my_select_id_list=[],this.my_selectlist)this.my_select_id_list.push(this.my_selectlist[t].depart_id)},getalldepartmenttree:function(){var e=this,t=(this.$store.state.corpid,this),i=this;this.loading=!0;var s={corpid:this.$store.state.corpid,userid:this.$store.state.userid},a=i.$createObj(s),r=a["keyvalue"],l=i.$apilist["getalldepartment"]+"?signature="+r;this.$server.post(l,a["fd"]).then((function(i){if(t.loading=!1,t.alldepart=i.data,void 0!=e.departlist)for(var s in e.my_selectlist=JSON.parse(JSON.stringify(e.departlist)),e.my_select_id_list=[],e.my_selectlist)e.my_select_id_list.push(e.my_selectlist[s].depart_id)})).catch((function(e){}))}},mounted:function(){},watch:{is_add:function(e){e&&(this.is_colse=!1,this.my_is_add=e,this.getalldepartmenttree())},my_is_add:function(e){this.$emit("back",e)}}},m=h,f=(i("aab8"),Object(c["a"])(m,s,a,!1,null,null,null));t["a"]=f.exports},"37fd":function(e,t,i){"use strict";i("5a24")},"498a":function(e,t,i){"use strict";var s=i("23e7"),a=i("58a8").trim,r=i("c8d2");s({target:"String",proto:!0,forced:r("trim")},{trim:function(){return a(this)}})},5712:function(e,t,i){},"5a24":function(e,t,i){},6093:function(e,t,i){"use strict";i("7a75")},"73c3":function(e,t,i){},7426:function(e,t,i){"use strict";i("fc4b")},"7a75":function(e,t,i){},aab8:function(e,t,i){"use strict";i("f3a8")},ae54:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"index_address frame_cnt"},[i("div",{staticClass:"member_container"},[i("div",{staticClass:"member_colLeft"},[i("member-left",{attrs:{departlist:e.departlist},on:{selectdepart:e.selectdepart,selectuser:e.selectuser}})],1),i("div",{staticClass:"member_colRight"},[0==e.is_user?i("member-right",{attrs:{selectFile:e.selectFile}}):e._e(),i("look-editor",{attrs:{userdetail:e.userdetail,editor_show:e.is_user}})],1)])])},a=[],r=(i("c975"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"memberLift"},[i("div",{staticClass:"member_coolLeft_top",on:{click:e.hidePanel}},[i("el-input",{staticClass:"left_input",attrs:{placeholder:"输入关键字进行过滤"},on:{input:function(t){return e.searchClick()}},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),0==e.isSearch?i("el-tree",{ref:"tree",staticClass:"filter-tree",staticStyle:{"max-height":"752px",overflow:"auto"},attrs:{data:e.data,props:e.defaultProps,"node-key":"id","filter-node-method":e.filterNode,"default-expanded-keys":e.expanded,"expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node;return i("span",{staticClass:"custom-tree-node",staticStyle:{width:"100%"}},[i("div",{on:{click:function(t){return e.addressclick(s)}}},[i("span",{staticStyle:{width:"130px",overflow:"hidden","whie-space":"nowrap","text-overflow":"ellipsis","word-break":"break-all","word-wrap":"normal",display:"inline-block"},attrs:{title:s.label}},[i("span",{staticClass:"icon_tree",staticStyle:{width:"18px",height:"18px"}}),e._v(e._s(s.label)+" ")]),i("span",{staticClass:"icon jstree-contextmenu",staticStyle:{width:"18px",height:"18px"},on:{click:function(t){return t.stopPropagation(),e.menuClick(s)}}})])])}}],null,!1,1107464187)}):e._e(),1==e.isSearch?i("div",[i("div",[i("p",{staticClass:"ww_searchResult_title"},[e._v("部门")]),1==e.isSearch?i("el-tree",{staticClass:"filter-tree",staticStyle:{"max-height":"752px",overflow:"auto"},attrs:{data:e.searchlist.depart,props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node;return i("span",{staticClass:"custom-tree-node",staticStyle:{width:"100%"}},[i("div",{on:{click:function(t){return e.addressclick(s)}}},[i("span",{staticStyle:{width:"130px",overflow:"hidden","whie-space":"nowrap","text-overflow":"ellipsis","word-break":"break-all","word-wrap":"normal",display:"inline-block"},attrs:{title:s.label}},[i("span",{staticClass:"icon_tree",staticStyle:{width:"18px",height:"18px"}}),e._v(e._s(s.label)+" ")]),i("span",{staticClass:"icon jstree-contextmenu",staticStyle:{width:"18px",height:"18px"},on:{click:function(t){return t.stopPropagation(),e.menuClick(s)}}})])])}}],null,!1,1107464187)}):e._e()],1),i("div",[i("p",{staticClass:"ww_searchResult_title"},[e._v("人员")]),1==e.isSearch?i("el-tree",{staticClass:"filter-tree",staticStyle:{"max-height":"752px",overflow:"auto"},attrs:{data:e.searchlist.user,props:e.defaultPropsUser},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node;return i("span",{staticClass:"custom-tree-node",staticStyle:{width:"100%"}},[i("div",{on:{click:function(t){return e.userClick(s)}}},[i("span",{staticStyle:{width:"130px",overflow:"hidden","whie-space":"nowrap","text-overflow":"ellipsis","word-break":"break-all","word-wrap":"normal",display:"inline-block"},attrs:{title:s.data.Name}},[i("span",{staticClass:"icon_tree",staticStyle:{width:"18px",height:"18px"}}),e._v(e._s(s.data.Name)+" ")]),i("span",{staticClass:"p_over",staticStyle:{width:"95px",display:"inline-block",color:"#7e7e7e","font-size":"13px"}},e._l(s.data.des,(function(t){return i("span",{key:t,staticClass:"p_over"},[e._v(e._s(t)+";")])})),0)])])}}],null,!1,2428335418)}):e._e()],1)]):e._e(),e.showlist?i("div",{staticClass:"operation-option",style:{left:e.clientX,top:e.clientY}},[i("ul",[1==this.selectnode.data.id||"1"==this.selectnode.data.id?i("li",{staticClass:"option",on:{click:function(t){return t.stopPropagation(),e.addDepart(t)}}},[e._v(" 添加子部门 ")]):e._e(),i("li",{staticClass:"option",on:{click:e.editorDepart}},[e._v("修改名称")]),1!=this.selectnode.data.id&&"1"!=this.selectnode.data.id?i("li",{staticClass:"option",on:{click:e.delDepart}},[e._v(" 删除 ")]):e._e()])]):e._e()],1)}),l=[],n=(i("99af"),i("498a"),i("ade3")),o={name:"memberLift",props:{departlist:Array},data:function(){return{searchlist:{},isSearch:!1,showlist:!1,clientX:"",clientY:"",filterText:"",data:this.departlist,selectFile:{},defaultProps:{children:"Children",label:"Department",icon:"icon"},defaultPropsUser:{children:"Children",label:"n",icon:"icon"},selectnode:{},expanded:[1]}},methods:Object(n["a"])({searchClick:function(){var e=this;if(""==this.filterText.trim())return this.isSearch=!1,this.getalldepartAfter(),!1;var t=this,i={corpid:this.$store.state.corpid,query_data:this.filterText};this.loading=!0;var s=this.$createObj(i),a=this.$apilist["searchuser"];this.$server.post(a,s["fd"]).then((function(i){e.isSearch=!0,t.loading=!1,e.searchlist=i.data}))},handleDragEnd:function(e,t,i,s){var a=this;if("none"==i)return!1;if(("before"==i||"after"==i)&&1==t.id)return a.getalldepart(),!1;var r={corpid:this.$store.state.corpid,department_id:e.data.depart_id,parent_id:t.data.depart_id},l=this.$createObj(r),n=l["keyvalue"],o=this.$apilist["editdepartment"]+"?signature="+n;this.$server.post(o,l["fd"]).then((function(e){})).catch((function(e){}))},delDepart:function(){var e=this;1==this.selectnode.id&&this.$message({type:"error",message:"不允许删除根部门"}),this.$confirm("是否删除 "+this.selectnode.label+" 部门?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={corpid:e.$store.state.corpid,department_id:e.selectnode.data.depart_id},i=e.$createObj(t),s=i["keyvalue"],a=e.$apilist["deldepartment"]+"?signature="+s,r=e;e.$server.post(a,i["fd"]).then((function(t){r.getalldepart([e.selectnode.data.ParentId]),r.$message({type:"success",message:"删除部门成功！"})})).catch((function(e){}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},editorDepart:function(){var e=this;this.$prompt("部门名称","修改名称",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:this.selectnode.label,beforeClose:function(e,t,i){if("cancel"==e)return i(),!1;null==t.$data.inputValue||""==t.$data.inputValue.trim()?this.$message({type:"error",message:"请输入部门名称"}):i()}}).then((function(t){var i=t.value,s={corpid:e.$store.state.corpid,department:i,department_id:e.selectnode.data.depart_id,parent_id:e.selectnode.data.ParentId},a=e.$createObj(s),r=a["keyvalue"],l=e.$apilist["editdepartment"]+"?signature="+r,n=e;e.$server.post(l,a["fd"]).then((function(t){n.$message({type:"success",message:"修改成功！"}),n.getalldepart([e.selectnode.data.ParentId])})).catch((function(e){}))})).catch((function(){})),this.hidePanel()},addDepart:function(){var e=this;this.$prompt("部门名称","新建部门",{confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(e,t,i){if("cancel"==e)return i(),!1;null==t.$data.inputValue||""==t.$data.inputValue.trim()?this.$message({type:"error",message:"请输入部门名称"}):i()}}).then((function(t){var i=t.value,s={corpid:e.$store.state.corpid,department:i,parentid:e.selectnode.data.depart_id},a=e.$createObj(s),r=a["keyvalue"],l=e.$apilist["adddepartment"]+"?signature="+r,n=e;e.$server.post(l,a["fd"]).then((function(t){n.$message({type:"success",message:"添加成功！"}),n.getalldepart([e.selectnode.data.ParentId,e.selectnode.data.depart_id])})).catch((function(e){}))})).catch((function(){})),this.hidePanel()},hidePanel:function(){this.showlist=!1},menuClick:function(e){var t=event||window.event;this.selectnode=e,this.showlist=!0,this.clientX=t.clientX+10+"px",this.clientY=t.clientY-50+"px"},filterNode:function(e,t){return!e||-1!==t.Department.indexOf(e)},addressclick:function(e){this.selectFile=e,this.$emit("selectdepart",e)},userClick:function(e){this.$emit("selectuser",e)},getalldepartAfter:function(){var e={corpid:this.$store.state.corpid},t=this.$createObj(e),i=t["keyvalue"],s=this.$apilist["getalldepartment"]+"?signature="+i,a=this;this.$server.post(s,t["fd"]).then((function(e){a.data=e.data,a.$nextTick((function(){a.expanded=[1],a.selectFile={data:{id:e.data[0].id,Department:e.data[0].Department,depart_id:e.data[0].depart_id}},a.$emit("selectdepart",this.selectFile)}))})).catch((function(e){}))},getalldepart:function(){var e={corpid:this.$store.state.corpid},t=this.$createObj(e),i=t["keyvalue"],s=this.$apilist["getalldepartment"]+"?signature="+i,a=this;this.$server.post(s,t["fd"]).then((function(e){a.data=e.data,a.$nextTick((function(){a.expanded=[1],a.selectFile={data:{id:e.data[0].id,Department:e.data[0].Department,depart_id:e.data[0].depart_id}},a.$emit("selectdepart",this.selectFile)}))})).catch((function(e){}))}},"getalldepart",(function(e){var t={corpid:this.$store.state.corpid},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["getalldepartment"]+"?signature="+s,r=this;this.$server.post(a,i["fd"]).then((function(t){r.data=t.data,r.$nextTick((function(){r.expanded=[1].concat(e)}))})).catch((function(e){}))})),watch:{departlist:function(e){this.data=e;var t=this;this.$nextTick((function(){t.expanded=[1]}))},filterText:function(e){}},mounted:function(){var e=this;this.$nextTick((function(){document.querySelector("body").addEventListener("click",e.hidePanel)}))}},d=o,c=(i("37fd"),i("2877")),u=Object(c["a"])(d,r,l,!1,null,"7e037a2f",null),p=u.exports,h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"memberRight"},[e.add_show||e.editor_show||e.look_show?e._e():i("div",[i("div",{staticClass:"member_colRight_head"},[i("span",{staticClass:"member_right_title"},[e._v(e._s(e.fileName)+" ")])]),i("div",{staticClass:"operation_member"},[i("el-row",[i("el-col",{attrs:{span:18}},[i("el-button",{attrs:{size:"small"},on:{click:function(t){return e.addshow()}}},[e._v("添加成员")]),i("el-button",{staticClass:"margin_l_5",attrs:{size:"small"},on:{click:function(t){return e.delClick()}}},[e._v("删除")])],1),i("el-col",{attrs:{span:6}},[i("el-input",{staticClass:"left_input",attrs:{placeholder:"输入关键字进行过滤"},on:{input:function(t){return e.searchUserClick()}},model:{value:e.searchval,callback:function(t){e.searchval=t},expression:"searchval"}})],1)],1)],1),i("div",{staticClass:"js_has_member"},[i("div",{staticClass:"member_colRight_table"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.userlist,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"65"}}),e._l(e.titles,(function(e){return i("el-table-column",{key:e.label,attrs:{prop:e.prop,label:e.label}})})),i("el-table-column",{attrs:{label:"部门",prop:"Department"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-more"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[i("p",{on:{click:function(i){return e.editorClick(t.row)}}},[e._v("编辑")])]),i("el-dropdown-item",[i("p",{on:{click:function(i){return e.deloneClick(t.row)}}},[e._v("删除")])])],1)],1)]}}],null,!1,1126666256)})],2)],1),i("div",{staticClass:"pagination_div"},[i("el-pagination",{attrs:{"current-page":e.curr_page,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total_sum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e.add_show?i("add-member",{attrs:{selectFile:e.selectFile,add_show:e.add_show},on:{backadd:e.backadd}}):e._e(),i("editor-member",{attrs:{selectFile:e.selectFile,userdetail:e.userdetail,editor_show:e.editor_show},on:{backadd:e.backeditor}})],1)},m=[],f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"addmember"},[e._m(0),i("div",{staticClass:"js_has_member"},[i("div",{staticClass:"operation_member"},[i("el-button",{attrs:{size:"small",type:"primary",icon:"iconfont icon-baocun"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),i("el-button",{attrs:{size:"small",icon:"iconfont icon-cancel"},on:{click:e.back}},[e._v("取消")])],1),i("div",{staticClass:"member_colRight_table"},[i("el-form",{ref:"ruleForm",attrs:{"label-width":"100px",model:e.ruleForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"工号",prop:"userid"}},[i("el-input",{attrs:{placeholder:"成员唯一标识",size:"small"},model:{value:e.ruleForm.userid,callback:function(t){e.$set(e.ruleForm,"userid",t)},expression:"ruleForm.userid"}})],1),i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{attrs:{placeholder:"请输入用户名",size:"small"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),i("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[i("el-input",{attrs:{placeholder:"请输入手机号",size:"small"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{placeholder:"成员唯一标识",size:"small"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),i("el-form-item",{attrs:{label:"职位",prop:"position"}},[i("el-select",{model:{value:e.ruleForm.position,callback:function(t){e.$set(e.ruleForm,"position",t)},expression:"ruleForm.position"}},e._l(e.position_list,(function(e){return i("el-option",{key:e.Id,attrs:{label:e.Title,value:e.Id}})})),1)],1),i("el-form-item",{attrs:{label:"职称",prop:"career"}},[i("el-select",{model:{value:e.ruleForm.career,callback:function(t){e.$set(e.ruleForm,"career",t)},expression:"ruleForm.career"}},e._l(e.career_list,(function(e){return i("el-option",{key:e.Id,attrs:{label:e.Title,value:e.Id}})})),1)],1),i("el-form-item",{attrs:{label:"部门",prop:"departid"}},[i("div",{staticClass:"editor_right",staticStyle:{display:"table-cell"}},[i("div",{staticClass:"ww_groupSelBtn"},e._l(e.selectdepart,(function(t){return i("div",{key:t.id,staticClass:"ww_groupSelBtn_item"},[i("span",{staticClass:"ww_img"}),i("span",{staticClass:"ww_groupSelBtn_item_text"},[e._v(e._s(t.Department))]),i("i",{staticClass:"el-icon-close img_icon",on:{click:function(i){return e.deldepart(t)}}})])})),0),i("div",{staticClass:"ww_groupSelBtn ww_groupSelBtn_add",on:{click:e.addDepartClick}},[e._v(" 修改 ")])])]),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1)]),i("depart-alert",{attrs:{is_add:e.is_add,departlist:e.selectdepart,title:"请选择部门"},on:{departSub:e.selectDepart,back:e.addPEvent}})],1)},_=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"member_colRight_head"},[i("span",{staticClass:"member_right_title"},[e._v("添加成员")])])}],g=i("317d"),v={name:"addmember",props:{selectFile:Object,add_show:Boolean},components:{DepartAlert:g["a"]},data:function(){var e=this,t=function(t,i,s){if(i){var a=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!a.test(i))return e.is_mobile=!1,s(new Error("请输入正确的手机号"));s()}else s()},i=function(e,t,i){if(t){if(0==/^\w{1,64}@[a-z0-9\-]{1,256}(\.[a-z]{2,6}){1,2}$/i.test(t))return i(new Error("邮箱格式错误"));i()}else i()},s=function(t,i,s){if(!i)return e.is_mobile=!1,s(new Error("请输入工号"));var a={userid:i},r=e.$createObj(a),l=r["keyvalue"],n=e.$apilist["checkuserid"]+"?signature="+l;e.$server.post(n,r["fd"]).then((function(t){t.data?(e.is_mobile=!1,s(new Error("工号已存在！"))):(e.is_mobile=!0,s())}))};return{is_add:!1,check_user:!1,position_list:[],career_list:[],my_add_show:this.add_show,selectdepart:[{id:this.selectFile.data.id,Department:this.selectFile.data.Department,depart_id:this.selectFile.data.depart_id}],ruleForm:{userid:"",username:"",departid:this.selectFile.data.id,mobile:"",email:"",position:"",career:"",remark:""},rules:{departid:[{required:!0,message:"请选择部门",trigger:"blur"}],userid:[{required:!0,message:"请输入工号",trigger:"blur"},{validator:s,trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],position:[{required:!0,message:"请选择职位",trigger:"blur"}],career:[{required:!0,message:"请选择职称",trigger:"blur"}],mobile:[{validator:t,trigger:"blur"}],email:[{validator:i,trigger:"blur"}],verify_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{selectDepart:function(e){this.selectdepart=e,this.ruleForm.departid=e[0].id},addPEvent:function(e){this.is_add=e},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var i=t.ruleForm,s=t.$createObj(i),a=s["keyvalue"],r=t.$apilist["addoneuser"]+"?signature="+a;t.$server.post(r,s["fd"]).then((function(e){t.$message({message:"添加成功！",type:"success"}),t.back()}))}))},deldepart:function(e){var t=this.selectdepart.indexOf(e);t>-1&&this.$delete(this.selectdepart,t),this.ruleForm.departid=""},addDepartClick:function(){this.is_add=!this.is_add},back:function(){this.my_add_show=!this.my_add_show},getallposition:function(){var e=this,t={corpid:this.$store.state.corpid,userid:this.$store.state.userid},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["getallposition"]+"?signature="+s;this.$server.post(a,i["fd"]).then((function(t){t.data.unshift({Title:"无",Id:0}),e.position_list=t.data})).catch((function(e){}))},getallcareer:function(){var e=this,t={corpid:this.$store.state.corpid,userid:this.$store.state.userid},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["getallcareer"]+"?signature="+s;this.$server.post(a,i["fd"]).then((function(t){t.data.unshift({Title:"无",Id:0}),e.career_list=t.data})).catch((function(e){}))}},mounted:function(){this.getallposition(),this.getallcareer()},watch:{add_show:function(e){this.my_add_show=e},my_add_show:function(e){this.$emit("backadd",e)}}},b=v,$=(i("fb3d"),Object(c["a"])(b,f,_,!1,null,"9e84f312",null)),k=$.exports,w=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.my_add_show,expression:"my_add_show"}],staticClass:"editormember"},[e._m(0),i("div",{staticClass:"js_has_member"},[i("div",{staticClass:"operation_member"},[i("el-row",[i("el-col",{attrs:{span:18}},[i("el-button",{attrs:{size:"small",type:"primary",icon:"iconfont icon-baocun"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")]),i("el-button",{attrs:{size:"small",icon:"iconfont icon-cancel"},on:{click:function(t){return e.back()}}},[e._v("取消")])],1)],1)],1),i("div",{staticClass:"member_colRight_table"},[i("el-form",{ref:"ruleForm",attrs:{"label-width":"100px",model:e.ruleForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"工号",prop:"userid"}},[i("el-input",{attrs:{placeholder:"成员唯一标识",size:"small",disabled:""},model:{value:e.ruleForm.userid,callback:function(t){e.$set(e.ruleForm,"userid",t)},expression:"ruleForm.userid"}})],1),i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{attrs:{placeholder:"请输入用户名",size:"small"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),i("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[i("el-input",{attrs:{placeholder:"请输入手机号",size:"small"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{placeholder:"成员唯一标识",size:"small"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),i("el-form-item",{attrs:{label:"职位",prop:"position"}},[i("el-select",{model:{value:e.ruleForm.position,callback:function(t){e.$set(e.ruleForm,"position",t)},expression:"ruleForm.position"}},e._l(e.position_list,(function(e){return i("el-option",{key:e.Id,attrs:{label:e.Title,value:e.Id}})})),1)],1),i("el-form-item",{attrs:{label:"职称",prop:"career"}},[i("el-select",{model:{value:e.ruleForm.career,callback:function(t){e.$set(e.ruleForm,"career",t)},expression:"ruleForm.career"}},e._l(e.career_list,(function(e){return i("el-option",{key:e.Id,attrs:{label:e.Title,value:e.Id}})})),1)],1),i("el-form-item",{attrs:{label:"部门",prop:"departid"}},[i("div",{staticClass:"editor_right",staticStyle:{display:"table-cell"}},[i("div",{staticClass:"ww_groupSelBtn"},e._l(e.selectdepart,(function(t){return i("div",{key:t.id,staticClass:"ww_groupSelBtn_item"},[i("span",{staticClass:"ww_img"}),i("span",{staticClass:"ww_groupSelBtn_item_text"},[e._v(e._s(t.Department))]),i("i",{staticClass:"el-icon-close img_icon",on:{click:function(i){return e.deldepart(t)}}})])})),0),i("div",{staticClass:"ww_groupSelBtn ww_groupSelBtn_add",on:{click:e.addDepartClick}},[e._v(" 修改 ")])])]),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1)]),i("depart-alert",{attrs:{is_add:e.is_add,departlist:e.selectdepart,title:"请选择部门"},on:{departSub:e.departSub,back:e.addPEvent}})],1)},y=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"member_colRight_head"},[i("span",{staticClass:"member_right_title"},[e._v("编辑成员信息")])])}],C=(i("a9e3"),{name:"editormember",props:{selectFile:Object,editor_show:Boolean,userdetail:Object,random:Number},components:{DepartAlert:g["a"]},data:function(){var e=this,t=function(t,i,s){if(i){var a=/^1[3|4|5|7|8][0-9]\d{8}$/;if(!a.test(i))return e.is_mobile=!1,s(new Error("请输入正确的手机号"));s()}else s()},i=function(e,t,i){if(t){if(0==/^\w{1,64}@[a-z0-9\-]{1,256}(\.[a-z]{2,6}){1,2}$/i.test(t))return i(new Error("邮箱格式错误"));i()}else i()};return{is_add:!1,career_list:[],position_list:[],my_add_show:!1,selectdepart:[],ruleForm:{userid:"",username:"",departid:"",mobile:"",email:"",position:"",career:"",remark:""},rules:{departid:[{required:!0,message:"请选择部门",trigger:"blur"}],userid:[{required:!0,message:"请输入工号",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],position:[{required:!0,message:"请选择职位",trigger:"blur"}],career:[{required:!0,message:"请选择职称",trigger:"blur"}],mobile:[{validator:t,trigger:"blur"}],email:[{validator:i,trigger:"blur"}],verify_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var i=t.ruleForm,s=t.$createObj(i),a=s["keyvalue"],r=t.$apilist["edituser"]+"?signature="+a;t.$server.post(r,s["fd"]).then((function(e){t.$message({message:"编辑成功！",type:"success"}),t.back()}))}))},deldepart:function(e){var t=this.selectdepart.indexOf(e);t>-1&&this.$delete(this.selectdepart,t),this.ruleForm.departid=""},departSub:function(e){this.selectdepart=e,this.ruleForm.departid=e[0].id},addPEvent:function(e){this.is_add=e},addDepartClick:function(){this.is_add=!this.is_add},back:function(){this.my_add_show=!this.my_add_show},getallposition:function(){var e=this,t={corpid:this.$store.state.corpid,userid:this.$store.state.userid},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["getallposition"]+"?signature="+s;this.$server.post(a,i["fd"]).then((function(t){t.data.unshift({Title:"无",Id:0}),e.position_list=t.data})).catch((function(e){}))},getallcareer:function(){var e=this,t={corpid:this.$store.state.corpid,userid:this.$store.state.userid},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["getallcareer"]+"?signature="+s;this.$server.post(a,i["fd"]).then((function(t){t.data.unshift({Title:"无",Id:0}),e.career_list=t.data})).catch((function(e){}))}},mounted:function(){this.getallposition(),this.getallcareer()},watch:{userdetail:function(e){},editor_show:function(e){this.my_add_show=e,this.selectdepart=[{id:this.userdetail.DepartmentId,depart_id:this.userdetail.DepartmentId,Department:this.userdetail.Department}],this.ruleForm={userid:this.userdetail.UserId,username:this.userdetail.Name,departid:this.userdetail.DepartmentId,mobile:this.userdetail.Mobile,email:this.userdetail.Email,position:this.userdetail.Position,career:this.userdetail.Career,remark:this.userdetail.Remark}},my_add_show:function(e){this.$emit("backadd",e)}}}),x=C,F=(i("01a4"),Object(c["a"])(x,w,y,!1,null,"5f516302",null)),S=F.exports,D={props:{selectFile:Object},components:{AddMember:k,EditorMember:S},data:function(){return{searchtext:"",searchval:"",loading:!1,userdetail:{},dellist:[],add_show:!1,editor_show1:!1,editor_show:!1,look_show:!1,look_show1:!1,userlist:[],fileName:"",data:[],isSearch:!1,titles:[{prop:"UserId",label:"工号"},{prop:"Name",label:"用户名"},{prop:"Mobile",label:"手机号"}],titles_search:[{prop:"UserId",label:"账户"},{prop:"Name",label:"用户名"},{prop:"Mobile",label:"手机号"}],filters:[{prop:["UserId","Name","Mobile","m"],value:""}],typelen:0,total_sum:0,pagesize:10,curr_page:1}},methods:{searchUserClick:function(){var e=this;if(""==this.searchval.trim())return this.curr_page=1,this.isSearch=!1,this.getuserlist(this.curr_page,this.pagesize),!1;var t=this,i={corpid:this.$store.state.corpid,query_data:this.searchval,depart_id:parseInt(this.selectFile.data.depart_id)};this.loading=!0;var s=this.$createObj(i),a=this.$apilist["searchuser"];this.$server.post(a,s["fd"]).then((function(i){t.loading=!1,e.isSearch=!0,e.userlist=i.data.user}))},downexcel_depart:function(){var e=this,t={corpid:this.$store.state.corpid};this.downloading=!0;var i=this.$createObj(t),s=this.$apilist["exportalluser"];this.$server.post(s,i["fd"]).then((function(t){e.downloading=!1,window.location.href=e.$store.state.imgurl+t["data"]}))},handleSizeChange:function(e){this.pagesize=e,this.getuserlist(this.curr_page,this.pagesize)},handleCurrentChange:function(e){this.curr_page=e,this.getuserlist(this.curr_page,this.pagesize)},handleUserList:function(){var e=this;this.$http.get("http://localhost:3000/userList").then((function(t){e.userList=t.body}))},delClick:function(){var e=this;if(0==this.dellist.length)return this.$alert("请选择要删除的人员！","提示",{confirmButtonText:"确定"}),!1;for(var t=[],i=0,s=this.dellist.length;i<s;i++)t.push(this.dellist[i].UserId);this.$confirm("此操作将永久删除选中人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={corpid:e.$store.state.corpid,userids:JSON.stringify(t),self:e.$store.state.userid},s=e.$createObj(i),a=s["keyvalue"],r=e.$apilist["deluserinfos"]+"?signature="+a,l=e;e.$server.post(r,s["fd"]).then((function(){l.curr_page=1,l.getuserlist(1,e.pagesize),l.$message({type:"success",message:"删除成功!"})})).catch((function(e){}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},deloneClick:function(e){var t=this;this.$confirm("此操作将永久删除该人员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={corpid:t.$store.state.corpid,userid:e.UserId,self:t.$store.state.userid},s=t.$createObj(i),a=s["keyvalue"],r=t.$apilist["deloneuser"]+"?signature="+a,l=t;t.$server.post(r,s["fd"]).then((function(){l.curr_page=1,l.getuserlist(1,t.pagesize),l.$message({type:"success",message:"删除成功!"})})).catch((function(e){}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},lookClick:function(e){this.userdetail=e,this.look_show1=!0,this.look_show=!this.look_show},backlook:function(e){this.look_show=e,this.getuserlist(this.curr_page,this.pagesize)},editorClick:function(e){this.userdetail=e,this.editor_show1=!0,this.editor_show=!this.editor_show},backeditor:function(e){this.editor_show=e,this.getuserlist(this.curr_page,this.pagesize)},backadd:function(e){this.add_show=e,this.getuserlist(this.curr_page,this.pagesize)},addshow:function(){this.add_show=!this.add_show},handleSelectionChange:function(e){this.dellist=e},current_change:function(e){this.curr_page=e,this.getuserlist(this.curr_page,this.pagesize)},getCount:function(){this.loading=!0;var e=this,t={userid:this.$store.state.userid,corpid:this.$store.state.corpid},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["admingetmessagecount"]+"?signature="+s;this.$server.post(a,i["fd"]).then((function(t){e.loading=!1,e.total_sum=t["Data"].Count}))},searchClick:function(){if(""==this.searchtext)return this.$alert("请填写搜索内容！","提示",{confirmButtonText:"确定"}),!1;this.curr_page=1,this.searchuser(this.curr_page)},searchuser:function(e){var t=this;this.loading=!0;var i={corpid:this.$store.state.corpid,department_id:parseInt(this.selectFile.data.depart_id),content:this.searchtext,page_index:e,pagesize:10},s=this.$createObj(i),a=s["keyvalue"],r=this.$apilist["searchuser"]+"?signature="+a,l=this;this.$server.post(r,s["fd"]).then((function(i){t.loading=!1,t.total_sum=i.data.count,null==i.data&&e>1?l.getuserlist(e-1):(l.userlist=i.data,l.typelen=i.data.length)})).catch((function(e){}))},getuserlist:function(e,t){var i=this;this.loading=!0;var s={corpid:this.$store.state.corpid,department_id:parseInt(this.selectFile.data.depart_id),page_index:e,page_size:t},a=this.$createObj(s),r=a["keyvalue"],l=this.$apilist["getalluserinfobydepartid"]+"?signature="+r,n=this;this.$server.post(l,a["fd"]).then((function(e){i.loading=!1,i.total_sum=e.data.count,null==e.data.users||e.data.users==[]?n.userlist=[]:n.userlist=e.data.users})).catch((function(e){}))}},mounted:function(){},watch:{selectFile:function(e){this.curr_page=1,this.fileName=e.data.Department,this.add_show=!1,this.editor_show=!1,this.getuserlist(this.curr_page,this.pagesize)}}},O=D,j=(i("0649"),Object(c["a"])(O,h,m,!1,null,null,null)),T=j.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.my_add_show,expression:"my_add_show"}],staticClass:"editormember"},[e._m(0),i("div",{staticClass:"js_has_member"},[i("div",{directives:[{name:"load",rawName:"v-load",value:e.loading,expression:"loading"}],staticClass:"member_colRight_table"},[0==Object(e.userdetail).length?i("div",{staticClass:"register_item"},[i("p",[e._v("暂无成员信息详情")])]):e._e(),i("div",{staticClass:"register_item"},[i("span",{staticClass:"nameval"},[e._v("工号：")]),i("span",[e._v(e._s(e.userdetail.UserId))])]),i("div",{staticClass:"register_item"},[i("span",{staticClass:"nameval"},[e._v("用户名：")]),i("span",[e._v(e._s(e.userdetail.Name))])]),i("div",{staticClass:"register_item"},[i("span",{staticClass:"nameval"},[e._v("手机号：")]),i("span",[e._v(e._s(e.userdetail.Mobile))])]),i("div",{staticClass:"register_item"},[i("span",{staticClass:"nameval"},[e._v("部门：")]),i("span",[e._v(e._s(e.userdetail.Department))])])])]),i("depart-alert",{attrs:{is_add:e.is_add,selectlist:e.selectdepart},on:{selectDepart:e.selectDepart,addPEvent:e.addPEvent}})],1)},z=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"member_colRight_head"},[i("span",{staticClass:"member_right_title"},[e._v("成员信息详情")])])}],N=(i("a15b"),{name:"editormember",props:{selectFile:Object,editor_show:Boolean,userdetail:Object,random:Number},components:{DepartAlert:g["a"]},data:function(){return{loading:!1,imgurl:this.$store.state.imgurl,is_add:!1,userid:this.userdetail.Userid,username:this.userdetail.Name,pwd:this.userdetail.Passwd,my_add_show:!1,selectdepart:[],member:[]}},methods:{usergetdata:function(){var e=this;this.loading=!0;var t={userid:this.userid,corpid:this.$store.state.corpid},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["oneuserdetail"]+"?signature="+s;this.$server.post(a,i["fd"]).then((function(t){e.member=t.data,e.loading=!1}))},addmember:function(){var e=this;if(0==this.selectdepart.length)return this.$alert("请选择部门！","提示",{confirmButtonText:"确定"}),!1;if(""==this.userid.trim())return this.$alert("请填写工号！","提示",{confirmButtonText:"确定"}),!1;if(""==this.username.trim())return this.$alert("请填写用户名！","提示",{confirmButtonText:"确定"}),!1;if(""==this.pwd.trim())return this.$alert("请填写密码！","提示",{confirmButtonText:"确定"}),!1;var t=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,12}$/;if(!t.test(this.pwd.trim())||this.pwd.trim().length<6||this.pwd.trim().length>12)return this.$alert("密码必须为6-12位的数字和字母的组合！","提示",{confirmButtonText:"确定"}),!1;var i=[];for(var s in this.selectdepart)i.push(this.selectdepart[s].DepartId);var a={corpid:this.$store.state.corpid,departids:i.join("|"),userid:this.userid.trim(),username:this.username.trim(),passwd:this.pwd.trim()},r=this.$createObj(a),l=r["keyvalue"],n=this.$apilist["edituser"]+"?signature="+l,o=this;this.$server.post(n,r["fd"]).then((function(){e.$message({type:"success",message:"保存成功"}),o.back()})).catch((function(e){}))},deldepart:function(e){var t=this.selectdepart.indexOf(e);t>-1&&this.$delete(this.selectdepart,t)},selectDepart:function(e){this.selectdepart=e},addPEvent:function(e){this.is_add=e},addDepartClick:function(){this.is_add=!this.is_add},back:function(){this.my_add_show=!this.my_add_show}},watch:{userdetail:function(e){},editor_show:function(e){this.my_add_show=e,this.userid=this.userdetail.U,this.username=this.userdetail.N,this.pwd=this.userdetail.P;var t=[];for(var i in this.userdetail.D)t.push({id:this.userdetail.D[i],DepartId:this.userdetail.D[i],Department:this.userdetail.Ds[this.userdetail.D[i]]});this.selectdepart=t},my_add_show:function(e){this.$emit("backadd",e)}}}),B=N,E=(i("7426"),Object(c["a"])(B,I,z,!1,null,"40ed78da",null)),P=E.exports,q={name:"index_address",components:{MemberLeft:p,MemberRight:T,LookEditor:P},data:function(){return{departlist:[],selectFile:{},userdetail:{},is_user:!1}},methods:{selectuser:function(e){this.userdetail=e.data,this.is_user=!0,this.selectFile={data:{id:e.data.UserId,Department:e.data.Department,depart_id:e.data.DepartmentId}}},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},selectdepart:function(e){this.is_user=!1,this.selectFile={data:e.data}},addressclick:function(e){this.selectFile=e},getalldepart:function(){var e={corpid:this.$store.state.corpid},t=this.$createObj(e),i=t["keyvalue"],s=this.$apilist["getalldepartment"]+"?signature="+i,a=this;this.$server.post(s,t["fd"]).then((function(e){a.departlist=e.data,a.selectFile={data:{id:e.data[0].id,Department:e.data[0].Department,depart_id:e.data[0].depart_id}}})).catch((function(e){}))},userDetail:function(e){var t={corpid:this.$store.state.corpid,userid:e.u},i=this.$createObj(t),s=i["keyvalue"],a=this.$apilist["oneuserdetail"]+"?signature="+s,r=this;this.$server.post(a,i["fd"]).then((function(e){r.departlist=e.data,r.selectFile={data:{id:e.data[0].id,Department:e.data[0].Department,depart_id:e.data[0].depart_id}}})).catch((function(e){}))}},mounted:function(){this.getalldepart()}},R=q,U=(i("6093"),Object(c["a"])(R,s,a,!1,null,null,null));t["default"]=U.exports},c8d2:function(e,t,i){var s=i("d039"),a=i("5899"),r="​᠎";e.exports=function(e){return s((function(){return!!a[e]()||r[e]()!=r||a[e].name!==e}))}},c913:function(e,t,i){},cfe6:function(e,t,i){},e53e:function(e,t,i){"use strict";i("c913")},f3a8:function(e,t,i){},fb3d:function(e,t,i){"use strict";i("cfe6")},fc4b:function(e,t,i){}}]);